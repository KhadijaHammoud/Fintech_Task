{"ast":null,"code":"import _slicedToArray from \"/Users/khaledhammoud/Nodogoro/Fintech/example-non-fungible-token/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/khaledhammoud/Nodogoro/Fintech/example-non-fungible-token/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport Computer from 'bitcoin-computer';\nimport './App.css';\nimport Card from './card';\nimport Artwork from './artwork';\n\nfunction App() {\n  const _useState = useState(new Computer({\n    seed: 'title mercy exhibit wasp diesel tell state snow swamp benefit electric admit',\n    chain: 'BSV'\n  })),\n        _useState2 = _slicedToArray(_useState, 2),\n        computer = _useState2[0],\n        setComputer = _useState2[1];\n\n  const _useState3 = useState(0),\n        _useState4 = _slicedToArray(_useState3, 2),\n        balance = _useState4[0],\n        setBalance = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        title = _useState6[0],\n        setTitle = _useState6[1];\n\n  const _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        artist = _useState8[0],\n        setArtist = _useState8[1];\n\n  const _useState9 = useState(''),\n        _useState10 = _slicedToArray(_useState9, 2),\n        url = _useState10[0],\n        setUrl = _useState10[1];\n\n  const _useState11 = useState([]),\n        _useState12 = _slicedToArray(_useState11, 2),\n        revs = _useState12[0],\n        setRevs = _useState12[1];\n\n  const _useState13 = useState([]),\n        _useState14 = _slicedToArray(_useState13, 2),\n        artworks = _useState14[0],\n        setArtworks = _useState14[1];\n\n  const _useState15 = useState(0),\n        _useState16 = _slicedToArray(_useState15, 2),\n        refresh = _useState16[0],\n        setRefresh = _useState16[1];\n\n  useEffect(() => {\n    const fetchRevs = async () => {\n      setBalance((await computer.db.wallet.getBalance()));\n      setRevs((await computer.getRevs(computer.db.wallet.getPublicKey())));\n      setTimeout(() => setRefresh(refresh + 1), 3500);\n    };\n\n    fetchRevs();\n  }, [computer.db.wallet, refresh]);\n  useEffect(() => {\n    const fetchArtworks = async () => {\n      setArtworks((await Promise.all(revs.map(async rev => computer.sync(rev)))));\n    };\n\n    fetchArtworks();\n  }, [revs, computer]);\n  useEffect(() => console.log('revs', revs), [revs]);\n  useEffect(() => console.log('artworks', artworks), [artworks]);\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n    const artwork = await computer.new(Artwork, [title, artist, url]);\n    console.log('created artwork', artwork);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Wallet\"), React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Address\"), \"\\xA0\", computer.db.wallet.getAddress().toString(), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Public Key\"), \"\\xA0\", computer.db.wallet.getPublicKey().toString(), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Balance\"), \"\\xA0\", balance / 1e8, \" \", computer.db.wallet.restClient.chain, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: () => setComputer(new Computer()),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Generate New Wallet\"), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Create new Artwork\"), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Title\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"string\",\n    value: title,\n    onChange: e => setTitle(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), \"Artist\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"string\",\n    value: artist,\n    onChange: e => setArtist(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), \"Url\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"string\",\n    value: url,\n    onChange: e => setUrl(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    value: \"Send Bitcoin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Create Artwork\")), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Your Artworks\"), React.createElement(\"ul\", {\n    className: \"flex-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, artworks.map(artwork => React.createElement(Card, {\n    artwork: artwork,\n    key: artwork.title + artwork.artist,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/khaledhammoud/Nodogoro/Fintech/example-non-fungible-token/src/App.js"],"names":["React","useState","useEffect","Computer","Card","Artwork","App","seed","chain","computer","setComputer","balance","setBalance","title","setTitle","artist","setArtist","url","setUrl","revs","setRevs","artworks","setArtworks","refresh","setRefresh","fetchRevs","db","wallet","getBalance","getRevs","getPublicKey","setTimeout","fetchArtworks","Promise","all","map","rev","sync","console","log","handleSubmit","evt","preventDefault","artwork","new","getAddress","toString","restClient","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Computer from 'bitcoin-computer'\nimport './App.css'\nimport Card from './card'\nimport Artwork from './artwork'\n\nfunction App() {\n  const [computer, setComputer] = useState(new Computer({\n    seed: 'title mercy exhibit wasp diesel tell state snow swamp benefit electric admit',\n    chain: 'BSV'\n  }))\n  const [balance, setBalance] = useState(0)\n\n  const [title, setTitle] = useState('')\n  const [artist, setArtist] = useState('')\n  const [url, setUrl] = useState('')\n\n  const [revs, setRevs] = useState([])\n  const [artworks, setArtworks] = useState([])\n  const [refresh, setRefresh] = useState(0)\n\n  useEffect(() => {\n    const fetchRevs = async () => {\n      setBalance(await computer.db.wallet.getBalance())\n      setRevs(await computer.getRevs(computer.db.wallet.getPublicKey()))\n      setTimeout(() => setRefresh(refresh + 1), 3500)\n    }\n    fetchRevs()\n  }, [computer.db.wallet, refresh])\n\n  useEffect(() => {\n    const fetchArtworks = async () => {\n      setArtworks(await Promise.all(revs.map(async rev => computer.sync(rev))))\n    }\n    fetchArtworks()\n  }, [revs, computer])\n\n  useEffect(() => console.log('revs', revs), [revs])\n  useEffect(() => console.log('artworks', artworks), [artworks])\n\n  const handleSubmit = async (evt) => {\n    evt.preventDefault()\n    const artwork = await computer.new(Artwork, [title, artist, url])\n    console.log('created artwork', artwork)\n  }\n\n  return (\n    <div className=\"App\">\n      <h2>Wallet</h2>\n      <b>Address</b>&nbsp;{computer.db.wallet.getAddress().toString()}<br />\n      <b>Public Key</b>&nbsp;{computer.db.wallet.getPublicKey().toString()}<br />\n      <b>Balance</b>&nbsp;{balance/1e8} {computer.db.wallet.restClient.chain}<br />\n      <button type=\"submit\" onClick={() => setComputer(new Computer())}>\n        Generate New Wallet\n      </button>\n\n      <h2>Create new Artwork</h2>\n      <form onSubmit={handleSubmit}>\n        Title<br />\n        <input type=\"string\" value={title} onChange={e => setTitle(e.target.value)} />\n\n        Artist<br />\n        <input type=\"string\" value={artist} onChange={e => setArtist(e.target.value)} />\n\n        Url<br />\n        <input type=\"string\" value={url} onChange={e => setUrl(e.target.value)} />\n\n        <button type=\"submit\" value=\"Send Bitcoin\">Create Artwork</button>\n      </form>\n\n      <h2>Your Artworks</h2>\n      <ul className=\"flex-container\">\n        {artworks.map(artwork => <Card artwork={artwork} key={artwork.title + artwork.artist} />)}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}